---
layout: post
time: 2014-2-18
title: 《程序员面试宝典》第10-11章笔记勘误
category: 《程序员面试宝典》笔记
keywords: 程序员面试宝典,面向对象,继承,接口
tags: 笔试面试,C/C++
description: 《程序员面试宝典》第10章、第11章的学习笔记和书中部分勘误。
---

#第10章 面向对象#

##10.1 面向对象的基本概念##

**面试例题2**

C++中的空类默认产生下列类成员函数：

+ 缺省构造函数
+ 析构函数
+ 拷贝构造函数
+ 赋值运算符（operator=）
+ 取值运算符（operator&）(一对，一个非const的，一个const的)

{% highlight C++ %}
class Empty{
public:
	Empty();//缺省构造函数
	Empty(const Empty&);//拷贝构造函数
	~Empty();//析构函数
	Empty& operator=(const Empty&);//赋值运算符
	Empty* operator&();//取址运算符
	const Empty* operator&() const;//取址运算符const
}
{% endhighlight %}

##10.4 构造函数和析构函数##

关于虚函数：

+ 在基类中声明为virtual并在派生类中被重新定义的成员函数
+ 作用：实现动态联编[^1]，也就是在程序的运行阶段动态的选择合适的成员函数
+ 将基类的某一成员函数声明为虚函数后，派生类的同名函数自动成为虚函数
+ 如果声明一个基类指针指向派生类，`Base *p = &Derived`, `p->fun()`，p调用fun()函数时，如果fun()不是虚函数，无法动态联编，会调用基类的fun()，如果是虚函数，则会调用子类的fun()。
+ 方便地调用同一类族中不同类的同名函数，只要先用基类指针即可。
+ 基类和派生类的同名虚函数必须一致的是：参数列，返回类型，常量性(const-ness),要求完全一致

[^1]: 多态性分为两类：静态多态和动态多态。函数重载和运算符实现的多态属于静态多态，动态多态性通过虚函数实现。

#第11章 继承与接口#

##11.1 覆盖##

**面试例题1**

+ 构造函数从最开始的基类开始构造，各个类的同名变量没有形成覆盖，都是单独的变量

+ 就近调用原则：

	+ 自己没有找父辈，如果父辈存在相关接口则优先调用父辈接口，父辈没有再往上找。（向上找到第一个实现的接口）
	+ 如果接口是虚函数，需要根据准确的对象类型来调用（向下找到离自己最近的实现接口）
	+ 接口里返回的是当前类的成员变量
	+ 如果显式表明调用那个类的接口，如`c.A::doGetData()`，虚函数规则失效，就调用指定类的接口。

##11.2 私有继承##

**面试例题1**

私有继承：

+ 从派生类的使用者来讲，所有的基类方法和成员都是private的，不可访问（可以继承，只是无法访问）
+ 从派生类内部来讲，除了基类的private的方法和成员，其他的都可以访问
+ 无论派生类是公有继承还是私有继承，基类的private方法和成员都不可以访问

在无继承的类中，public和private是没有区别的，类自己的成员函数能够访问自己的public或者private成员。在继承中，基类的private对所有外界都屏蔽（包括自己的派生类），基类的protected控制符对应用程序是屏蔽的，但对其派生类是可访问的。

总结如图：


##11.3 虚函数继承和虚继承##

虚继承又叫作共享继承，是为了解决多重继承中出现的问题。虚基类是共享的，也就是在继承体系中无论被继承多少次，对象内存中均只会出现一个虚基类的子对象。

##11.7 运算符重载与RTTI##

**面试例题4**

关于运算符重载：

+ 如果运算符被定义为全局函数，则对于一元运算符是一个参数，对于二元运算符是两个参数
+ 如果运算符被定义为成员函数，则对于一元运算符没有参数，对于二元运算符是一个参数

</br>

![img](/assets/image/daodao/6.jpg)
