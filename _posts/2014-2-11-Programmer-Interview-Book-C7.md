---
layout: post
time: 2014-2-11
title: 《程序员面试宝典》第7章笔记勘误
category: 《程序员面试宝典》笔记
keywords: 程序员面试宝典,指针,引用
tags: 笔试面试,C/C++
description: 《程序员面试宝典》第7章的学习笔记和书中部分勘误。
---

#第7章 指针与引用#

##7.1 指针基本问题##

**面试例题1**

指针和引用的区别：

+ 指针是一个实体，而引用仅是个别名
+ 引用不能为空，指针可以为空
+ "sizeof引用"得到的是所指向的变量（对象）的大小，而"sizeof指针"得到的是指针本身大小
+ 指针在运行时可以改变其所指向的值，引用一旦和某个对象绑定后就不再改变
+ 从内存分配上看：程序为指针变量分配内存区域，而引用是一个变量的别名，本身不单独分配自己的内存区域

##7.2 传递动态内存##

**面试例题3**

{% highlight C++ %}
char c[] = "hello";
{% endhighlight %}

此时分配的是一个局部数组，存储在栈上。

{% highlight C++ %}
char *c = "world";
{% endhighlight %}

此时"world"存放在常量区，c是一个指针，指向"world"，c存放在栈上，通过c可以访问字符串常量，但不能改变它。

##7.3 函数指针##

**面试例题1**

首先总结一下函数指针和指针函数（返回指针的函数）的区别：

+ 指针函数

指针函数本质是一个函数，返回类型为某一类型的指针。定义格式为

返回类型标识符 *函数名称（函数形参表）{函数体}

+ 函数指针

函数指针本质上是一个指针变量，只不过该指针变量指向函数，即函数的入口地址。定义格式为

数据类型标志符 （*指针变量名）（参数）

函数指针有两个用途：调用函数和做函数的参数。可以使函数指针先后指向不同的函数。

书中给出的答案顺序有点乱，这里具体对应一下：

{% highlight C++ %}
//函数指针
void (*f)()
//指针函数
void* f()
//指向const的指针，指针指向的内容不能被修改
const int* p
int const* p
//const指针，指针本身的值不能改变所以必须得初始化
int* const p = &a;
//指针本身和它指向的内容都不能被修改
const int* const p1 = &a;
int const* const p2 = &b;
{% endhighlight %}

<br></br>

![img](/assets/image/daodao/2.jpg)
